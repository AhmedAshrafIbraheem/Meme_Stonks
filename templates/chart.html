{% extends "base.html" %}
{% block title %}test{% endblock %}
{% block content %}
    <canvas id="myChart"></canvas>
	<script>
            var ctx = document.getElementById("myChart");

            var myChart = new Chart(ctx, {
              type: 'line',
              data: {
                labels: [ {% for item in the_date %}
                    {% if item == the_date[-1] -%}
                        "TODAY",
                    {% else -%}
                        "{{ item }}",
                    {% endif %}
                    {% endfor %} ],
                datasets: [
                    {
                    label: "{{ tickers[0] }}",
                    data: [{x: "{{ the_date[0] }}", y: {{ nested_dictionaries[tickers[0]][the_date[0]] }}}, {x: "{{ the_date[1] }}", y: {{ nested_dictionaries[tickers[0]][the_date[1]] }}}, {x: "{{ the_date[2] }}", y: {{ nested_dictionaries[tickers[0]][the_date[2]] }}}, {x: "{{ the_date[3] }}", y: {{ nested_dictionaries[tickers[0]][the_date[3]] }}}, {x: "{{ the_date[4] }}", y: {{ nested_dictionaries[tickers[0]][the_date[4]] }}}, {x: "{{ the_date[5] }}", y: {{ nested_dictionaries[tickers[0]][the_date[5]] }}}, {x: "{{ the_date[6] }}", y: {{ nested_dictionaries[tickers[0]][the_date[6]] }}}, {x: "{{ the_date[7] }}", y: {{ nested_dictionaries[tickers[0]][the_date[7]] }}}],
                    showLine: true,
                    fill: false,
                    borderColor: 'rgba(255, 0, 0, 1)',
                    lineTension: 0
                    },
                    {
                    label: "{{ tickers[1] }}",
                    data: [{x: "{{ the_date[0] }}", y: {{ nested_dictionaries[tickers[1]][the_date[0]] }}}, {x: "{{ the_date[1] }}", y: {{ nested_dictionaries[tickers[1]][the_date[1]] }}}, {x: "{{ the_date[2] }}", y: {{ nested_dictionaries[tickers[1]][the_date[2]] }}}, {x: "{{ the_date[3] }}", y: {{ nested_dictionaries[tickers[1]][the_date[3]] }}}, {x: "{{ the_date[4] }}", y: {{ nested_dictionaries[tickers[1]][the_date[4]] }}}, {x: "{{ the_date[5] }}", y: {{ nested_dictionaries[tickers[1]][the_date[5]] }}}, {x: "{{ the_date[6] }}", y: {{ nested_dictionaries[tickers[1]][the_date[6]] }}}, {x: "{{ the_date[7] }}", y: {{ nested_dictionaries[tickers[1]][the_date[7]] }}}],
                    showLine: true,
                    fill: false,
                    borderColor: 'rgba(255, 128, 0, 1)',
                    lineTension: 0
                    },
                    {
                    label: "{{ tickers[2] }}",
                    data: [{x: "{{ the_date[0] }}", y: {{ nested_dictionaries[tickers[2]][the_date[0]] }}}, {x: "{{ the_date[1] }}", y: {{ nested_dictionaries[tickers[2]][the_date[1]] }}}, {x: "{{ the_date[2] }}", y: {{ nested_dictionaries[tickers[2]][the_date[2]] }}}, {x: "{{ the_date[3] }}", y: {{ nested_dictionaries[tickers[2]][the_date[3]] }}}, {x: "{{ the_date[4] }}", y: {{ nested_dictionaries[tickers[2]][the_date[4]] }}}, {x: "{{ the_date[5] }}", y: {{ nested_dictionaries[tickers[2]][the_date[5]] }}}, {x: "{{ the_date[6] }}", y: {{ nested_dictionaries[tickers[2]][the_date[6]] }}}, {x: "{{ the_date[7] }}", y: {{ nested_dictionaries[tickers[2]][the_date[7]] }}}],
                    showLine: true,
                    fill: false,
                    borderColor: 'rgba(255, 255, 0, 1)',
                    lineTension: 0
                    },
                    {
                    label: "{{ tickers[3] }}",
                    data: [{x: "{{ the_date[0] }}", y: {{ nested_dictionaries[tickers[3]][the_date[0]] }}}, {x: "{{ the_date[1] }}", y: {{ nested_dictionaries[tickers[3]][the_date[1]] }}}, {x: "{{ the_date[2] }}", y: {{ nested_dictionaries[tickers[3]][the_date[2]] }}}, {x: "{{ the_date[3] }}", y: {{ nested_dictionaries[tickers[3]][the_date[3]] }}}, {x: "{{ the_date[4] }}", y: {{ nested_dictionaries[tickers[3]][the_date[4]] }}}, {x: "{{ the_date[5] }}", y: {{ nested_dictionaries[tickers[3]][the_date[5]] }}}, {x: "{{ the_date[6] }}", y: {{ nested_dictionaries[tickers[3]][the_date[6]] }}}, {x: "{{ the_date[7] }}", y: {{ nested_dictionaries[tickers[3]][the_date[7]] }}}],
                    showLine: true,
                    fill: false,
                    borderColor: 'rgba(0, 255, 0, 1)',
                    lineTension: 0
                    },
                    {
                    label: "{{ tickers[4] }}",
                    data: [{x: "{{ the_date[0] }}", y: {{ nested_dictionaries[tickers[4]][the_date[0]] }}}, {x: "{{ the_date[1] }}", y: {{ nested_dictionaries[tickers[4]][the_date[1]] }}}, {x: "{{ the_date[2] }}", y: {{ nested_dictionaries[tickers[4]][the_date[2]] }}}, {x: "{{ the_date[3] }}", y: {{ nested_dictionaries[tickers[4]][the_date[3]] }}}, {x: "{{ the_date[4] }}", y: {{ nested_dictionaries[tickers[4]][the_date[4]] }}}, {x: "{{ the_date[5] }}", y: {{ nested_dictionaries[tickers[4]][the_date[5]] }}}, {x: "{{ the_date[6] }}", y: {{ nested_dictionaries[tickers[4]][the_date[6]] }}}, {x: "{{ the_date[7] }}", y: {{ nested_dictionaries[tickers[4]][the_date[7]] }}}],
                    showLine: true,
                    fill: false,
                    borderColor: 'rgba(0, 255, 255, 1)',
                    lineTension: 0
                    },
                    {
                    label: "{{ tickers[5] }}",
                    data: [{x: "{{ the_date[0] }}", y: {{ nested_dictionaries[tickers[5]][the_date[0]] }}}, {x: "{{ the_date[1] }}", y: {{ nested_dictionaries[tickers[5]][the_date[1]] }}}, {x: "{{ the_date[2] }}", y: {{ nested_dictionaries[tickers[5]][the_date[2]] }}}, {x: "{{ the_date[3] }}", y: {{ nested_dictionaries[tickers[5]][the_date[3]] }}}, {x: "{{ the_date[4] }}", y: {{ nested_dictionaries[tickers[5]][the_date[4]] }}}, {x: "{{ the_date[5] }}", y: {{ nested_dictionaries[tickers[5]][the_date[5]] }}}, {x: "{{ the_date[6] }}", y: {{ nested_dictionaries[tickers[5]][the_date[6]] }}}, {x: "{{ the_date[7] }}", y: {{ nested_dictionaries[tickers[5]][the_date[7]] }}}],
                    showLine: true,
                    fill: false,
                    borderColor: 'rgba(0, 128, 255, 1)',
                    lineTension: 0
                    },
                    {
                    label: "{{ tickers[6] }}",
                    data: [{x: "{{ the_date[0] }}", y: {{ nested_dictionaries[tickers[6]][the_date[0]] }}}, {x: "{{ the_date[1] }}", y: {{ nested_dictionaries[tickers[6]][the_date[1]] }}}, {x: "{{ the_date[2] }}", y: {{ nested_dictionaries[tickers[6]][the_date[2]] }}}, {x: "{{ the_date[3] }}", y: {{ nested_dictionaries[tickers[6]][the_date[3]] }}}, {x: "{{ the_date[4] }}", y: {{ nested_dictionaries[tickers[6]][the_date[4]] }}}, {x: "{{ the_date[5] }}", y: {{ nested_dictionaries[tickers[6]][the_date[5]] }}}, {x: "{{ the_date[6] }}", y: {{ nested_dictionaries[tickers[6]][the_date[6]] }}}, {x: "{{ the_date[7] }}", y: {{ nested_dictionaries[tickers[6]][the_date[7]] }}}],
                    showLine: true,
                    fill: false,
                    borderColor: 'rgba(0, 0, 255, 1)',
                    lineTension: 0
                    },
                    {
                    label: "{{ tickers[7] }}",
                    data: [{x: "{{ the_date[0] }}", y: {{ nested_dictionaries[tickers[7]][the_date[0]] }}}, {x: "{{ the_date[1] }}", y: {{ nested_dictionaries[tickers[7]][the_date[1]] }}}, {x: "{{ the_date[2] }}", y: {{ nested_dictionaries[tickers[7]][the_date[2]] }}}, {x: "{{ the_date[3] }}", y: {{ nested_dictionaries[tickers[7]][the_date[3]] }}}, {x: "{{ the_date[4] }}", y: {{ nested_dictionaries[tickers[7]][the_date[4]] }}}, {x: "{{ the_date[5] }}", y: {{ nested_dictionaries[tickers[7]][the_date[5]] }}}, {x: "{{ the_date[6] }}", y: {{ nested_dictionaries[tickers[7]][the_date[6]] }}}, {x: "{{ the_date[7] }}", y: {{ nested_dictionaries[tickers[7]][the_date[7]] }}}],
                    showLine: true,
                    fill: false,
                    borderColor: 'rgba(127, 0, 255, 1)',
                    lineTension: 0
                    },
                    {
                    label: "{{ tickers[8] }}",
                    data: [{x: "{{ the_date[0] }}", y: {{ nested_dictionaries[tickers[8]][the_date[0]] }}}, {x: "{{ the_date[1] }}", y: {{ nested_dictionaries[tickers[8]][the_date[1]] }}}, {x: "{{ the_date[2] }}", y: {{ nested_dictionaries[tickers[8]][the_date[2]] }}}, {x: "{{ the_date[3] }}", y: {{ nested_dictionaries[tickers[8]][the_date[3]] }}}, {x: "{{ the_date[4] }}", y: {{ nested_dictionaries[tickers[8]][the_date[4]] }}}, {x: "{{ the_date[5] }}", y: {{ nested_dictionaries[tickers[8]][the_date[5]] }}}, {x: "{{ the_date[6] }}", y: {{ nested_dictionaries[tickers[8]][the_date[6]] }}}, {x: "{{ the_date[7] }}", y: {{ nested_dictionaries[tickers[8]][the_date[7]] }}}],
                    showLine: true,
                    fill: false,
                    borderColor: 'rgba(255, 0, 127, 1)',
                    lineTension: 0
                    },
                    {
                    label: "{{ tickers[9] }}",
                    data: [{x: "{{ the_date[0] }}", y: {{ nested_dictionaries[tickers[9]][the_date[0]] }}}, {x: "{{ the_date[1] }}", y: {{ nested_dictionaries[tickers[9]][the_date[1]] }}}, {x: "{{ the_date[2] }}", y: {{ nested_dictionaries[tickers[9]][the_date[2]] }}}, {x: "{{ the_date[3] }}", y: {{ nested_dictionaries[tickers[9]][the_date[3]] }}}, {x: "{{ the_date[4] }}", y: {{ nested_dictionaries[tickers[9]][the_date[4]] }}}, {x: "{{ the_date[5] }}", y: {{ nested_dictionaries[tickers[9]][the_date[5]] }}}, {x: "{{ the_date[6] }}", y: {{ nested_dictionaries[tickers[9]][the_date[6]] }}}, {x: "{{ the_date[7] }}", y: {{ nested_dictionaries[tickers[9]][the_date[7]] }}}],
                    showLine: true,
                    fill: false,
                    borderColor: 'rgba(0, 0, 0, 1)',
                    lineTension: 0
                    },
                ]
              },
              options: {
                tooltips: {
                  mode: 'index',
                  intersect: false,
                },
                hover: {
                  mode: 'nearest',
                  intersect: true
                },
                scales: {
                  yAxes: [{
                    ticks: {
                      autoSkip: false,
                      beginAtZero: true,
                      stepSize: 20
                    }
                  }],
                  xAxes: [{
                    ticks: {
                      autoSkip: false
                    }
                  }]
                },
              }
            });
	</script>
{% endblock %}